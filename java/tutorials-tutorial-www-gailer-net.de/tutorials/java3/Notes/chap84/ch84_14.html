<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<meta name="copyright" content="2002,  Bradley Kjell" />
<meta name="author" content="Bradley Kjell kjell@ieee.org " />
<meta name="translation" content=" " />
<meta name="robots" content="index,follow" />
<title>C-style Input Loop</title>
<link rel="stylesheet" type="text/css" href="../CAIstyle.css" />
</head>

<body>
<!-- generated by CSSmaker.java, version of 01/14/2003-->
<!-- from source javaChap84.frames on Sat Apr 03 14:10:17 CEST 2004 -->

<!-- ANSWER AREA -->

<div class="answer">
<h3>Eine gute Antwort k&ouml;nnte sein:</h3>
<p>
No.  The line terminating characters may be different in the copy.
Sometimes this is a useful feature if you often copy text files
between different types of computer.
</p>


</div>

<!-- LESSON AREA -->
<div class="lesson">
<h1>C-style Input Loop</h1>

<A NAME="C-style input"></A>
<p>
Here is the loop from the <code>copyFile()</code> method.
</p>

<pre class="program">
  line = source.readLine();
  while ( line != null )
  {
   dest.write(line);
   dest.newLine();
   line = source.readLine();
  }
</pre>

<p>
Here is the same loop written in a style that is commonly
used with the "C" programming language.
This style also works for Java:
</p>

<pre class="program">
  while ( (line = source.readLine()) != null )
  {
   dest.write(line);
   dest.newLine();
  }
</pre>

<p>
The key to understanding this is to understand
that <em>an assignment statement is an expression</em>
and has a value.
That value is the value that is assigned to the variable.
So this:
</p>

<pre class="program">
(line = source.readLine())
</pre

><p>
has a value that is non-null after a successful <code>readLine()</code>
and null upon end-of-file.
Say that the file has data in it:
</p>

<pre class="program">
1. Characters are read from the stream, and placed in a new String. The
   readLine() method returns a reference to the String.
                              |
2. The reference is           |
   assigned to line.          |
                  |           |
                --+--   ------+----------
       while ( (line  = source.readLine())   != null )
               -------+-------------------   ---+---
                      |                         |
3. The assignment statement evaluates           |
   to that (non-null) reference.                |
                                                |
4. The != operator compares non-null to null and evaluates to true.

5. The loop body executes.
</pre>

<p>
This may be more bother than it is worth,
but programmers familiar with C are likely to
use this style, so you will see it often.
</p>


</div>

<!-- QUESTION AREA -->
<div class="question">
<h3> FRAGE 14:</h3>
<a href="ch84_15.html">
<img src="../nextBut.gif" hspace="5" align="right" border="0"/></a>
<p>
Will this form of the loop work correctly with an empty file?
</p>

</div>

</body>
</html>
