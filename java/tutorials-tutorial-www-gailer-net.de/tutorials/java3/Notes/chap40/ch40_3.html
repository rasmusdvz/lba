<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<meta name="copyright" content="2002,  Bradley Kjell" />
<meta name="author" content="Bradley Kjell kjell@ieee.org " />
<meta name="robots" content="index,follow" />
<title>Watch out for Side-effects</title>
<link rel="stylesheet" type="text/css" href="../CAIstyle.css" />
</head>

<body>
<!-- generated by CSSmaker.java, version of 01/14/2003-->
<!-- from source javaChap40.frames on Sat May 24 19:45:53 EDT 2003 -->

<!-- ANSWER AREA -->


<div class="answer">
<h3>A good answer might be:</h3>

<p>
Put the fastest method
first because if it returns a <code>false</code> you are done immediately.
</p>

<pre class="code">
if ( methodThatWorksInstantly() &amp;&amp; methodThatTakesHoursToRun() )
   ....
</pre>


</div>

<!-- LESSON AREA -->
<div class="lesson">
<h1>Watch out for Side-effects</h1>
<img src="rxBottle.gif" align="left" hspace="20">
<p>
If the first method returns <code>false</code>, the
second method is not evaluated at all,
saving time.
The result of evaluating the boolean expression is
<code>false</code> 
whenever <code>methodThatWorksInstantly()</code> is
<code>false</code>. 
Only when it is <code>true</code> is the time consuming method executed.
</p>

<p>
<b>Danger:</b> This trick works correctly only if the skipped method
does nothing permanent.
In other words, short-circuit evaluation is safe when
the skipped method does nothing but
compute <code>true</code> or <code>false</code>.
Short-circuit evaluation <b>is not safe</b> when the
skipped does more than that.
For example:
</p>

<pre class="code">
boolean methodThatTakesHoursToRun()
{
  // make a permanent change to the state of
  // an object that the rest of the program uses.

  // now return a true or false
}
</pre>
 

<A NAME="side effect"></A>
<p>
When a method makes
permanent changes to data,
it must be called regardless of
the <code>true/false</code> value of some other method.
When a method makes a permanent change to data
the method is said to have a <b>side effect</b>.
When methods have side effects,
you must be careful when using a short-circuit
operator.
</p>



</div>

<!-- QUESTION AREA -->
<div class="question">
<h3> QUESTION 3:</h3>
<a href="ch40_4.html">
<img src="../nextBut.gif" hspace="5" align="right" border="0"/></a>
<form>
<p>
(Thought question: ) Do you have to worry about side effects with
methods that return <code>int</code>?
Click here for a <input type="button" value="Hint" 
onClick="alert('What if the return value of a method is compared with another value?')">
</p>
</form>

</div>

</body>
</html>
